import{S as w,s as N,g as q,n as v,p as R,a as C,u as O,j as e}from"./index-D3Lmqwuk.js";import{r as d}from"./vendor-Bm7FCeSL.js";import{u as k,s as M,c as S,a as E}from"./catchAsync-C6RkCpq9.js";import{X as $,i as Q,p as L,o as f,j as P}from"./ui-BP2t-oC-.js";class A extends w{constructor(r,t){super(),this.client=r,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var t;const s=this.options;this.options=this.client.defaultMutationOptions(r),N(s,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(t=this.currentMutation)==null||t.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var r;(r=this.currentMutation)==null||r.removeObserver(this)}}onMutationUpdate(r){this.updateResult();const t={listeners:!0};r.type==="success"?t.onSuccess=!0:r.type==="error"&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(r,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof r<"u"?r:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const r=this.currentMutation?this.currentMutation.state:q(),t=r.status==="loading",s={...r,isLoading:t,isPending:t,isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=s}notify(r){v.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(r.onSuccess){var t,s,a,n;(t=(s=this.mutateOptions).onSuccess)==null||t.call(s,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(a=(n=this.mutateOptions).onSettled)==null||a.call(n,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(r.onError){var i,o,l,m;(i=(o=this.mutateOptions).onError)==null||i.call(o,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(l=(m=this.mutateOptions).onSettled)==null||l.call(m,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}r.listeners&&this.listeners.forEach(({listener:h})=>{h(this.currentResult)})})}}function T(u,r,t){const s=R(u,r),a=C({context:s.context}),[n]=d.useState(()=>new A(a,s));d.useEffect(()=>{n.setOptions(s)},[n,s]);const i=k(d.useCallback(l=>n.subscribe(v.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=d.useCallback((l,m)=>{n.mutate(l,m).catch(D)},[n]);if(i.error&&M(n.options.useErrorBoundary,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}function D(){}const F=S(async u=>{const{data:r}=await E.post("/quotes",u);return r}),z=({isOpen:u,onClose:r})=>{const{t,isRTL:s}=O(),[a,n]=d.useState({name:"",email:"",phone:"",company:"",industry:"",machines:"",budget:"",message:""}),[i,o]=d.useState(null),{mutate:l,isLoading:m,isSuccess:h}=T({mutationFn:F,onSuccess:()=>{o(null),n({name:"",email:"",phone:"",company:"",industry:"",machines:"",message:""})},onError:x=>{o(x.message||"Failed to submit quote. Please try again.")}}),c=x=>{const{name:p,value:g}=x.target;n(j=>({...j,[p]:g})),i&&o(null)},b=async x=>{if(x.preventDefault(),!a.name||!a.email||!a.company||!a.industry){o("Please fill in all required fields.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)){o("Please enter a valid email address.");return}l(a)},y=()=>{n({name:"",email:"",phone:"",company:"",industry:"",machines:"",message:""}),o(null)};return u?e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-2 sm:p-4",children:e.jsx("div",{className:"bg-white/95 backdrop-blur-md border border-inovara-primary/20 rounded-2xl sm:rounded-3xl max-w-xs sm:max-w-md md:max-w-2xl lg:max-w-3xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-y-auto shadow-2xl",children:e.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[e.jsxs("div",{className:`flex items-start justify-between mb-6 sm:mb-8 ${s?"flex-row-reverse":"flex-row"}`,children:[e.jsx("div",{className:`flex items-center gap-3 sm:gap-4 flex-1 ${s?"flex-row-reverse":"flex-row"}`,children:e.jsxs("div",{className:`flex-1 ${s?"text-right":"text-left"}`,children:[e.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-black text-inovara-primary mb-1 leading-tight",children:t("quote.title")}),e.jsx("p",{className:"text-inovara-primary/70 text-xs sm:text-sm font-medium leading-relaxed",children:t("quote.subtitle")})]})}),e.jsx("button",{onClick:r,className:`p-2 sm:p-3 text-inovara-primary/60 hover:text-inovara-primary hover:bg-inovara-primary/10 rounded-xl transition-all duration-300 group flex-shrink-0 ${s?"mr-2":"ml-2"}`,"aria-label":"Close modal",children:e.jsx($,{className:"w-5 h-5 sm:w-6 sm:h-6 group-hover:rotate-90 transition-transform duration-300"})})]}),i&&e.jsxs("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 bg-red-50 border border-red-200 rounded-xl sm:rounded-2xl flex items-start gap-3 ${s?"flex-row-reverse":"flex-row"}`,children:[e.jsx(Q,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-red-700 text-xs sm:text-sm font-medium leading-relaxed",children:i})]}),h?e.jsxs("div",{className:`text-center py-8 sm:py-12 ${s?"rtl":"ltr"}`,children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6 sm:mb-8 shadow-2xl",children:e.jsx(P,{className:"h-8 w-8 sm:h-10 sm:w-10 md:h-12 md:w-12 text-white"})}),e.jsx("h3",{className:"text-xl sm:text-2xl md:text-3xl font-black text-inovara-primary mb-3 sm:mb-4 leading-tight",children:"Quote Request Sent!"}),e.jsx("p",{className:"text-inovara-primary/70 text-sm sm:text-base md:text-lg font-medium mb-6 sm:mb-8 max-w-md mx-auto leading-relaxed",children:"Thank you for your interest! We'll send you a detailed quote within 24 hours."}),e.jsxs("div",{className:`flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center ${s?"sm:flex-row-reverse":""}`,children:[e.jsx("button",{onClick:y,className:"group px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-inovara-primary to-inovara-secondary text-white font-bold rounded-xl sm:rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-inovara-accent/30",children:e.jsxs("span",{className:`flex items-center justify-center gap-2 sm:gap-3 ${s?"flex-row-reverse":"flex-row"}`,children:[e.jsx(f,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:translate-x-1 transition-transform duration-300"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Request Another Quote"})]})}),e.jsx("button",{onClick:r,className:"px-6 sm:px-8 py-3 sm:py-4 border-2 border-inovara-primary text-inovara-primary font-bold rounded-xl sm:rounded-2xl hover:bg-inovara-primary hover:text-white transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-inovara-primary/20",children:e.jsx("span",{className:"text-sm sm:text-base",children:"Close"})})]})]}):e.jsxs("form",{onSubmit:b,className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:`block text-inovara-primary font-bold text-xs sm:text-sm mb-2 sm:mb-3 ${s?"text-right":"text-left"}`,children:[t("quote.name")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:a.name,onChange:c,dir:s?"rtl":"ltr",className:`w-full px-3 sm:px-4 py-3 sm:py-4 bg-white border-2 border-inovara-primary/20 rounded-xl sm:rounded-2xl text-inovara-primary placeholder-inovara-primary/50 focus:border-inovara-accent focus:ring-4 focus:ring-inovara-accent/20 focus:outline-none transition-all duration-300 text-sm sm:text-base ${s?"text-right":"text-left"}`,placeholder:t("quote.name"),required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block text-inovara-primary font-bold text-xs sm:text-sm mb-2 sm:mb-3 ${s?"text-right":"text-left"}`,children:[t("quote.email")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"email",value:a.email,onChange:c,dir:s?"rtl":"ltr",className:`w-full px-3 sm:px-4 py-3 sm:py-4 bg-white border-2 border-inovara-primary/20 rounded-xl sm:rounded-2xl text-inovara-primary placeholder-inovara-primary/50 focus:border-inovara-accent focus:ring-4 focus:ring-inovara-accent/20 focus:outline-none transition-all duration-300 text-sm sm:text-base ${s?"text-right":"text-left"}`,placeholder:t("quote.email"),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-inovara-primary font-bold text-xs sm:text-sm mb-2 sm:mb-3 ${s?"text-right":"text-left"}`,children:t("quote.phone")}),e.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:c,dir:s?"rtl":"ltr",className:`w-full px-3 sm:px-4 py-3 sm:py-4 bg-white border-2 border-inovara-primary/20 rounded-xl sm:rounded-2xl text-inovara-primary placeholder-inovara-primary/50 focus:border-inovara-accent focus:ring-4 focus:ring-inovara-accent/20 focus:outline-none transition-all duration-300 text-sm sm:text-base ${s?"text-right":"text-left"}`,placeholder:t("quote.phone")})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block text-inovara-primary font-bold text-xs sm:text-sm mb-2 sm:mb-3 ${s?"text-right":"text-left"}`,children:[t("quote.company")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"company",value:a.company,onChange:c,dir:s?"rtl":"ltr",className:`w-full px-3 sm:px-4 py-3 sm:py-4 bg-white border-2 border-inovara-primary/20 rounded-xl sm:rounded-2xl text-inovara-primary placeholder-inovara-primary/50 focus:border-inovara-accent focus:ring-4 focus:ring-inovara-accent/20 focus:outline-none transition-all duration-300 text-sm sm:text-base ${s?"text-right":"text-left"}`,placeholder:t("quote.company"),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:`block text-inovara-primary font-bold text-xs sm:text-sm mb-2 sm:mb-3 ${s?"text-right":"text-left"}`,children:[t("quote.industry")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"industry",value:a.industry,onChange:c,dir:s?"rtl":"ltr",className:`w-full px-3 sm:px-4 py-3 sm:py-4 bg-white border-2 border-inovara-primary/20 rounded-xl sm:rounded-2xl text-inovara-primary focus:border-inovara-accent focus:ring-4 focus:ring-inovara-accent/20 focus:outline-none transition-all duration-300 text-sm sm:text-base ${s?"text-right":"text-left"}`,required:!0,children:[e.jsx("option",{value:"",className:"text-inovara-primary/50",children:t("quote.industry")}),e.jsx("option",{value:"corporate",className:"text-inovara-primary",children:t("quote.industryOptions.office")}),e.jsx("option",{value:"healthcare",className:"text-inovara-primary",children:t("quote.industryOptions.healthcare")}),e.jsx("option",{value:"education",className:"text-inovara-primary",children:t("quote.industryOptions.education")}),e.jsx("option",{value:"retail",className:"text-inovara-primary",children:t("quote.industryOptions.retail")}),e.jsx("option",{value:"manufacturing",className:"text-inovara-primary",children:t("quote.industryOptions.manufacturing")}),e.jsx("option",{value:"hospitality",className:"text-inovara-primary",children:t("quote.industryOptions.hospitality")}),e.jsx("option",{value:"other",className:"text-inovara-primary",children:t("quote.industryOptions.other")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-inovara-primary font-bold text-xs sm:text-sm mb-2 sm:mb-3 ${s?"text-right":"text-left"}`,children:t("quote.machines")}),e.jsxs("select",{name:"machines",value:a.machines,onChange:c,dir:s?"rtl":"ltr",className:`w-full px-3 sm:px-4 py-3 sm:py-4 bg-white border-2 border-inovara-primary/20 rounded-xl sm:rounded-2xl text-inovara-primary focus:border-inovara-accent focus:ring-4 focus:ring-inovara-accent/20 focus:outline-none transition-all duration-300 text-sm sm:text-base ${s?"text-right":"text-left"}`,children:[e.jsx("option",{value:"",className:"text-inovara-primary/50",children:t("quote.machines")}),e.jsx("option",{value:"1-5",className:"text-inovara-primary",children:t("quote.machineOptions.1-5")}),e.jsx("option",{value:"6-20",className:"text-inovara-primary",children:t("quote.machineOptions.6-20")}),e.jsx("option",{value:"21-50",className:"text-inovara-primary",children:t("quote.machineOptions.21-50")}),e.jsx("option",{value:"51-100",className:"text-inovara-primary",children:t("quote.machineOptions.51-100")}),e.jsx("option",{value:"100+",className:"text-inovara-primary",children:t("quote.machineOptions.100+")})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-inovara-primary font-bold text-xs sm:text-sm mb-2 sm:mb-3 ${s?"text-right":"text-left"}`,children:t("quote.requirements")}),e.jsx("textarea",{name:"message",value:a.message,onChange:c,dir:s?"rtl":"ltr",rows:3,className:`w-full px-3 sm:px-4 py-3 sm:py-4 bg-white border-2 border-inovara-primary/20 rounded-xl sm:rounded-2xl text-inovara-primary placeholder-inovara-primary/50 focus:border-inovara-accent focus:ring-4 focus:ring-inovara-accent/20 focus:outline-none transition-all duration-300 resize-none text-sm sm:text-base ${s?"text-right":"text-left"}`,placeholder:t("quote.requirementsPlaceholder")})]}),e.jsxs("button",{type:"submit",disabled:m,className:"w-full group/btn relative overflow-hidden bg-gradient-to-r from-inovara-primary to-inovara-secondary text-white font-bold py-3 sm:py-4 px-6 sm:px-8 rounded-xl sm:rounded-2xl shadow-xl sm:shadow-2xl hover:shadow-2xl sm:hover:shadow-3xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none focus:outline-none focus:ring-4 focus:ring-inovara-accent/30",children:[m?e.jsxs("span",{className:`flex items-center justify-center gap-2 sm:gap-3 ${s?"flex-row-reverse":"flex-row"}`,children:[e.jsx(L,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}),e.jsxs("span",{className:"text-sm sm:text-base",children:[t("common.loading"),"..."]})]}):e.jsxs("span",{className:`flex items-center justify-center gap-2 sm:gap-3 ${s?"flex-row-reverse":"flex-row"}`,children:[e.jsx(f,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover/btn:translate-x-1 transition-transform duration-300"}),e.jsx("span",{className:"text-sm sm:text-base",children:t("quote.submit")})]}),e.jsx("div",{className:"absolute inset-0 bg-white/10 translate-x-[-100%] group-hover/btn:translate-x-[100%] transition-transform duration-500 skew-x-12"})]})]})]})})}):null},X=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"}));export{z as Q,X as a,T as u};

import{u as e,j as a}from"./index-B_DxWEiK.js";import{r as s}from"./vendor-DD48japz.js";import{c as r,a as t}from"./catchAsync-B4LpI2VQ.js";import{b as o}from"./query-CrCWkRvr.js";import{X as n,h as i,o as l,n as m,i as d}from"./ui-DdgLP26B.js";import"./router-DWVnhlTE.js";import"./utils-A1DBBW5O.js";const x=r(async e=>{const{data:a}=await t.post("/quotes",e);return a}),c=({isOpen:r,onClose:t})=>{const{t:c,isRTL:u}=e(),[p,h]=s.useState({name:"",email:"",phone:"",company:"",industry:"",machines:"",budget:"",message:""}),[v,f]=s.useState(null),{mutate:b,isLoading:y,isSuccess:g}=o({mutationFn:x,onSuccess:()=>{f(null),h({name:"",email:"",phone:"",company:"",industry:"",machines:"",message:""})},onError:e=>{f(e.message||"Failed to submit quote. Please try again.")}}),j=e=>{const{name:a,value:s}=e.target;h(e=>({...e,[a]:s})),v&&f(null)};return r?a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-2 sm:p-4",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-md border border-inovara-primary/20 rounded-2xl sm:rounded-3xl max-w-xs sm:max-w-md md:max-w-2xl lg:max-w-3xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-y-auto shadow-2xl",children:a.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"flex items-start justify-between mb-6 sm:mb-8 "+(u?"flex-row-reverse":"flex-row"),children:[a.jsx("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 "+(u?"flex-row-reverse":"flex-row"),children:a.jsxs("div",{className:"flex-1 "+(u?"text-right":"text-left"),children:[a.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-black text-inovara-primary mb-1 leading-tight",children:c("quote.title")}),a.jsx("p",{className:"text-inovara-primary/70 text-xs sm:text-sm font-medium leading-relaxed",children:c("quote.subtitle")})]})}),a.jsx("button",{onClick:t,className:"p-2 sm:p-3 text-inovara-primary/60 hover:text-inovara-primary hover:bg-inovara-primary/10 rounded-xl transition-all duration-300 group flex-shrink-0 "+(u?"mr-2":"ml-2"),"aria-label":"Close modal",children:a.jsx(n,{className:"w-5 h-5 sm:w-6 sm:h-6 group-hover:rotate-90 transition-transform duration-300"})})]}),v&&a.jsxs("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-red-50 border border-red-200 rounded-xl sm:rounded-2xl flex items-start gap-3 "+(u?"flex-row-reverse":"flex-row"),children:[a.jsx(i,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-red-700 text-xs sm:text-sm font-medium leading-relaxed",children:v})]}),g?a.jsxs("div",{className:"text-center py-8 sm:py-12 "+(u?"rtl":"ltr"),children:[a.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6 sm:mb-8 shadow-2xl",children:a.jsx(d,{className:"h-8 w-8 sm:h-10 sm:w-10 md:h-12 md:w-12 text-white"})}),a.jsx("h3",{className:"text-xl sm:text-2xl md:text-3xl font-black text-inovara-primary mb-3 sm:mb-4 leading-tight",children:"Quote Request Sent!"}),a.jsx("p",{className:"text-inovara-primary/70 text-sm sm:text-base md:text-lg font-medium mb-6 sm:mb-8 max-w-md mx-auto leading-relaxed",children:"Thank you for your interest! We'll send you a detailed quote within 24 hours."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center "+(u?"sm:flex-row-reverse":""),children:[a.jsx("button",{onClick:()=>{h({name:"",email:"",phone:"",company:"",industry:"",machines:"",message:""}),f(null)},className:"group px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-inovara-primary to-inovara-secondary text-white font-bold rounded-xl sm:rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-inovara-accent/30",children:a.jsxs("span",{className:"flex items-center justify-center gap-2 sm:gap-3 "+(u?"flex-row-reverse":"flex-row"),children:[a.jsx(m,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:translate-x-1 transition-transform duration-300"}),a.jsx("span",{className:"text-sm sm:text-base",children:"Request Another Quote"})]})}),a.jsx("button",{onClick:t,className:"px-6 sm:px-8 py-3 sm:py-4 border-2 border-inovara-primary text-inovara-primary font-bold rounded-xl sm:rounded-2xl hover:bg-inovara-primary hover:text-white transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-inovara-primary/20",children:a.jsx("span",{className:"text-sm sm:text-base",children:"Close"})})]})]}):a.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!(p.name&&p.email&&p.company&&p.industry))return void f("Please fill in all required fields.");/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.email)?b(p):f("Please enter a valid email address.")},className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs("div",{className:u?"sm:order-2":"sm:order-1",children:[a.jsxs("label",{className:"block text-inovara-primary font-bold text-xs sm:text-sm mb-2 sm:mb-3 "+(u?"text-right":"text-left"),children:[c("quote.name")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",value:p.name,onChange:j,dir:u?"rtl":"ltr",className:"w-full px-3 sm:px-4 py-3 sm:py-4 bg-white border-2 border-inovara-primary/20 rounded-xl sm:rounded-2xl text-inovara-primary placeholder-inovara-primary/50 focus:border-inovara-accent focus:ring-4 focus:ring-inovara-accent/20 focus:outline-none transition-all duration-300 text-sm sm:text-base "+(u?"text-right":"text-left"),placeholder:c("quote.name"),required:!0})]}),a.jsxs("div",{className:u?"sm:order-1":"sm:order-2",children:[a.jsxs("label",{className:"block text-inovara-primary font-bold text-xs sm:text-sm mb-2 sm:mb-3 "+(u?"text-right":"text-left"),children:[c("quote.email")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",name:"email",value:p.email,onChange:j,dir:u?"rtl":"ltr",className:"w-full px-3 sm:px-4 py-3 sm:py-4 bg-white border-2 border-inovara-primary/20 rounded-xl sm:rounded-2xl text-inovara-primary placeholder-inovara-primary/50 focus:border-inovara-accent focus:ring-4 focus:ring-inovara-accent/20 focus:outline-none transition-all duration-300 text-sm sm:text-base "+(u?"text-right":"text-left"),placeholder:c("quote.email"),required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs("div",{className:u?"sm:order-2":"sm:order-1",children:[a.jsx("label",{className:"block text-inovara-primary font-bold text-xs sm:text-sm mb-2 sm:mb-3 "+(u?"text-right":"text-left"),children:c("quote.phone")}),a.jsx("input",{type:"tel",name:"phone",value:p.phone,onChange:j,dir:u?"rtl":"ltr",className:"w-full px-3 sm:px-4 py-3 sm:py-4 bg-white border-2 border-inovara-primary/20 rounded-xl sm:rounded-2xl text-inovara-primary placeholder-inovara-primary/50 focus:border-inovara-accent focus:ring-4 focus:ring-inovara-accent/20 focus:outline-none transition-all duration-300 text-sm sm:text-base "+(u?"text-right":"text-left"),placeholder:c("quote.phone")})]}),a.jsxs("div",{className:u?"sm:order-1":"sm:order-2",children:[a.jsxs("label",{className:"block text-inovara-primary font-bold text-xs sm:text-sm mb-2 sm:mb-3 "+(u?"text-right":"text-left"),children:[c("quote.company")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"company",value:p.company,onChange:j,dir:u?"rtl":"ltr",className:"w-full px-3 sm:px-4 py-3 sm:py-4 bg-white border-2 border-inovara-primary/20 rounded-xl sm:rounded-2xl text-inovara-primary placeholder-inovara-primary/50 focus:border-inovara-accent focus:ring-4 focus:ring-inovara-accent/20 focus:outline-none transition-all duration-300 text-sm sm:text-base "+(u?"text-right":"text-left"),placeholder:c("quote.company"),required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs("div",{className:u?"sm:order-2":"sm:order-1",children:[a.jsxs("label",{className:"block text-inovara-primary font-bold text-xs sm:text-sm mb-2 sm:mb-3 "+(u?"text-right":"text-left"),children:[c("quote.industry")," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"industry",value:p.industry,onChange:j,dir:u?"rtl":"ltr",className:"w-full px-3 sm:px-4 py-3 sm:py-4 bg-white border-2 border-inovara-primary/20 rounded-xl sm:rounded-2xl text-inovara-primary focus:border-inovara-accent focus:ring-4 focus:ring-inovara-accent/20 focus:outline-none transition-all duration-300 text-sm sm:text-base "+(u?"text-right":"text-left"),required:!0,children:[a.jsx("option",{value:"",className:"text-inovara-primary/50",children:c("quote.industry")}),a.jsx("option",{value:"corporate",className:"text-inovara-primary",children:c("quote.industryOptions.office")}),a.jsx("option",{value:"healthcare",className:"text-inovara-primary",children:c("quote.industryOptions.healthcare")}),a.jsx("option",{value:"education",className:"text-inovara-primary",children:c("quote.industryOptions.education")}),a.jsx("option",{value:"retail",className:"text-inovara-primary",children:c("quote.industryOptions.retail")}),a.jsx("option",{value:"manufacturing",className:"text-inovara-primary",children:c("quote.industryOptions.manufacturing")}),a.jsx("option",{value:"hospitality",className:"text-inovara-primary",children:c("quote.industryOptions.hospitality")}),a.jsx("option",{value:"other",className:"text-inovara-primary",children:c("quote.industryOptions.other")})]})]}),a.jsxs("div",{className:u?"sm:order-1":"sm:order-2",children:[a.jsx("label",{className:"block text-inovara-primary font-bold text-xs sm:text-sm mb-2 sm:mb-3 "+(u?"text-right":"text-left"),children:c("quote.machines")}),a.jsxs("select",{name:"machines",value:p.machines,onChange:j,dir:u?"rtl":"ltr",className:"w-full px-3 sm:px-4 py-3 sm:py-4 bg-white border-2 border-inovara-primary/20 rounded-xl sm:rounded-2xl text-inovara-primary focus:border-inovara-accent focus:ring-4 focus:ring-inovara-accent/20 focus:outline-none transition-all duration-300 text-sm sm:text-base "+(u?"text-right":"text-left"),children:[a.jsx("option",{value:"",className:"text-inovara-primary/50",children:c("quote.machines")}),a.jsx("option",{value:"1-5",className:"text-inovara-primary",children:c("quote.machineOptions.1-5")}),a.jsx("option",{value:"6-20",className:"text-inovara-primary",children:c("quote.machineOptions.6-20")}),a.jsx("option",{value:"21-50",className:"text-inovara-primary",children:c("quote.machineOptions.21-50")}),a.jsx("option",{value:"51-100",className:"text-inovara-primary",children:c("quote.machineOptions.51-100")}),a.jsx("option",{value:"100+",className:"text-inovara-primary",children:c("quote.machineOptions.100+")})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-inovara-primary font-bold text-xs sm:text-sm mb-2 sm:mb-3 "+(u?"text-right":"text-left"),children:c("quote.requirements")}),a.jsx("textarea",{name:"message",value:p.message,onChange:j,dir:u?"rtl":"ltr",rows:3,className:"w-full px-3 sm:px-4 py-3 sm:py-4 bg-white border-2 border-inovara-primary/20 rounded-xl sm:rounded-2xl text-inovara-primary placeholder-inovara-primary/50 focus:border-inovara-accent focus:ring-4 focus:ring-inovara-accent/20 focus:outline-none transition-all duration-300 resize-none text-sm sm:text-base "+(u?"text-right":"text-left"),placeholder:c("quote.requirementsPlaceholder")})]}),a.jsxs("button",{type:"submit",disabled:y,className:"w-full group/btn relative overflow-hidden bg-gradient-to-r from-inovara-primary to-inovara-secondary text-white font-bold py-3 sm:py-4 px-6 sm:px-8 rounded-xl sm:rounded-2xl shadow-xl sm:shadow-2xl hover:shadow-2xl sm:hover:shadow-3xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none focus:outline-none focus:ring-4 focus:ring-inovara-accent/30",children:[y?a.jsxs("span",{className:"flex items-center justify-center gap-2 sm:gap-3 "+(u?"flex-row-reverse":"flex-row"),children:[a.jsx(l,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}),a.jsxs("span",{className:"text-sm sm:text-base",children:[c("common.loading"),"..."]})]}):a.jsxs("span",{className:"flex items-center justify-center gap-2 sm:gap-3 "+(u?"flex-row-reverse":"flex-row"),children:[a.jsx(m,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover/btn:translate-x-1 transition-transform duration-300"}),a.jsx("span",{className:"text-sm sm:text-base",children:c("quote.submit")})]}),a.jsx("div",{className:"absolute inset-0 bg-white/10 translate-x-[-100%] group-hover/btn:translate-x-[100%] transition-transform duration-500 skew-x-12"})]})]})]})})}):null};export{c as default};
